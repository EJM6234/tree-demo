(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{25:function(e,t,a){e.exports=a(59)},30:function(e,t,a){},51:function(e,t,a){},55:function(e,t,a){},57:function(e,t,a){},59:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(9),i=a.n(c),l=(a(30),a(3)),o=a(4),s=a(6),p=a(5),h=a(7),d=a(22),u=a(10),m=a.n(u),f=(a(51),function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"content-container"},this.props.children)}}]),t}(n.Component)),g=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},this.props.path.map(function(t,a){var n=0===a?"Category":a===e.props.path.length-1?"Item":"Sub-Category ".concat(a);return r.a.createElement("div",{key:"category".concat(a),className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("label",{htmlFor:"category".concat(a)},n),r.a.createElement("input",{name:"category".concat(a),value:t,onChange:e.props.handleChange}),"Category"!==n&&"Item"!==n&&r.a.createElement("button",{id:"removeSub".concat(a),onClick:e.props.removeSubCategory},"-")))}),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("label",{htmlFor:"price"},"Price"),r.a.createElement("input",{name:"price",value:this.props.price,onChange:this.props.handleChange}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("button",{disabled:this.props.path.length>=12,onClick:this.props.addSubCategory},"Add Sub-Category"))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("button",{disabled:this.props.path.includes(""),onClick:this.props.handleSubmit},"Submit"))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("button",{onClick:this.props.clearForm},"Clear")))))}}]),t}(n.Component),b=a(24),v=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={isUpdating:!1,editPrice:void 0},a.handleChange=function(e){a.setState({editPrice:e.target.value})},a.handleDeleteClick=function(){a.props.handleDelete(a.props.id)},a.handleUpdateClick=function(){a.setState(function(e,t){return{isUpdating:!e.isUpdating,editPrice:t.price}}),a.state.isUpdating&&a.props.handlePriceUpdate(a.props.id,a.state.editPrice)},a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("ul",null,r.a.createElement("li",null,this.props.category,":",this.state.isUpdating?r.a.createElement("input",{name:"priceUpdate".concat(this.props.id),value:this.state.editPrice,onChange:this.handleChange}):r.a.createElement("span",null,"$",this.props.price),r.a.createElement("i",{className:"fa fa-trash",onClick:this.handleDeleteClick}),r.a.createElement("i",{className:"fa fa-pencil-alt",onClick:this.handleUpdateClick})))}}]),t}(n.Component),E=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={isOpen:!1},a.handleOpen=function(){a.setState(function(e){return{isOpen:!e.isOpen}})},a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,a=Object.keys(this.props.treeRenderData);return r.a.createElement("ul",null,r.a.createElement("div",{onClick:this.handleOpen},r.a.createElement("i",{className:this.state.isOpen?"fa fa-angle-down":"fa fa-angle-right"}),r.a.createElement("span",null,this.props.category)),r.a.createElement(b.a,{isOpen:this.state.isOpen},a.map(function(a,n){return Array.isArray(e.props.treeRenderData[a])?r.a.createElement(v,{key:n,category:a,handleChange:e.handleChange,handleDelete:e.props.handleDelete,handlePriceUpdate:e.props.handlePriceUpdate,id:e.props.treeRenderData[a][0],price:e.props.treeRenderData[a][1]}):r.a.createElement(t,{key:n,category:a,handleChange:e.handleChange,handleDelete:e.props.handleDelete,handlePriceUpdate:e.props.handlePriceUpdate,treeRenderData:e.props.treeRenderData[a]})})))}}]),t}(n.Component),y=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e,t=this;return this.props.treeRenderData&&(e=Object.keys(this.props.treeRenderData)),r.a.createElement(r.a.Fragment,null,e?e.map(function(e,a){return r.a.createElement(E,{key:a,category:e,handleDelete:t.props.handleDelete,handlePriceUpdate:t.props.handlePriceUpdate,treeRenderData:t.props.treeRenderData[e]})}):null)}}]),t}(n.Component),C=function e(t,a,n,r,c,i){return a[t[0]]?e(t.slice(1),a[t[0]],n,r,c,i):t.length>1?(a[t[0]]={},e(t.slice(1),a[t[0]],n,r,c,i)):(a[t[0]]=[i,c],r)},O=(a(55),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={path:["",""],price:"0",treeRenderData:{}},a.addSubCategory=function(){if(a.state.path.length<12){var e=a.state.path,t=e.slice(0,e.length-1).concat(["",e[e.length-1]]);a.setState({path:t})}},a.clearForm=function(){a.setState({path:["",""],price:"0"})},a.handleChange=function(e){if(e.preventDefault(),null!==e.target.name.match(/category/g)){var t=a.state.path;t[parseInt(e.target.name.match(/\d+/g)[0])]=e.target.value,a.setState({path:t})}else a.setState(Object(d.a)({},e.target.name,e.target.value))},a.handleDelete=function(e){m.a.delete("/items/".concat(e)).then(function(e){var t={};e.data.forEach(function(e){var a=e.path.split(".");C(a,t,a,t,e.price,e.id)}),a.setState({treeRenderData:t})}).catch(function(e){return console.error(e)})},a.handlePriceUpdate=function(e,t){m.a.put("/items/".concat(e),{price:t}).then(function(e){var t={};e.data.forEach(function(e){var a=e.path.split(".");C(a,t,a,t,e.price,e.id)}),a.setState({treeRenderData:t})}).catch(function(e){return console.error(e)})},a.handleSubmit=function(){m.a.post("/items/create",{path:a.state.path.join("."),price:a.state.price}).then(function(e){var t=e.data.path.split("."),n=a.state.treeRenderData,r=C(t,n,t,n,e.data.price,e.data.id);a.setState({treeRenderData:r})}).catch(function(e){return console.error(e)})},a.removeSubCategory=function(e){var t=a.state.path,n=parseInt(e.target.id.match(/\d+/g)),r=t.filter(function(e,t){return t!==n});a.setState({path:r})},a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;m.a.get("/items").then(function(t){var a={};t.data.forEach(function(e){var t=e.path.split(".");C(t,a,t,a,e.price,e.id)}),e.setState({treeRenderData:a})}).catch(function(e){return console.error(e)})}},{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-6"},r.a.createElement(f,null,r.a.createElement(g,{addSubCategory:this.addSubCategory,clearForm:this.clearForm,handleChange:this.handleChange,handleSubmit:this.handleSubmit,path:this.state.path,price:this.state.price,removeSubCategory:this.removeSubCategory}))),r.a.createElement("div",{className:"col-6"},r.a.createElement(f,null,r.a.createElement(y,{handleChange:this.handleChange,handleDelete:this.handleDelete,handlePriceUpdate:this.handlePriceUpdate,treeRenderData:this.state.treeRenderData})))))}}]),t}(n.Component)),j=(a(57),function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{id:"background",style:{backgroundImage:'url("img/background.jpg")'}},r.a.createElement(O,null))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(j,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[25,2,1]]]);
//# sourceMappingURL=main.0fc0565c.chunk.js.map